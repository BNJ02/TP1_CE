MPASM 5.86                          MAIN.ASM   9-27-2023  14:56:31         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ; Programme assembleur du TP1 de CE (Circuit Electronique), 26/09/2023, Adji TOURE & Benjamin Lepourtois
                      00002 ; PIC10F200
                      00003 ; LIST p=PIC10F200
                      00004 #include p10f200.inc
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Oct 24 2019
                      00005 ;  MPASM PIC10F200 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2019 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      00152         LIST
                      00005 
Warning[205]: Found directive in column 1. (__CONFIG)
0FFF   0FEB           00006 __CONFIG _WDTE_OFF & _CP_OFF & _MCLRE_OFF
                      00007 
  00000003            00008 STATUS equ 03h
  00000005            00009 OSCCAL equ 05h
  00000006            00010 GPIO equ 06h
  00000000            00011 GP0 equ 00h
  00000001            00012 GP1 equ 01h
  00000002            00013 GP2 equ 02h
  00000003            00014 GP3 equ 03h
  00000010            00015 var1 equ 10h
  00000011            00016 temp0 equ 11h
  00000012            00017 temp1 equ 12h
  00000011            00018 temp2 equ 11h
  00000012            00019 temp3 equ 12h
                      00020 
                      00021 ; Start
                      00022     ORG 0X000
                      00023 
0000   0025           00024     movwf OSCCAL
0001   0A??           00025     goto main
                      00026 
                      00027     ORG 0X020
                      00028 
                      00029 ; Set up
0020   0CCF           00030 main:   movlw 0CFh
0021   0002           00031     option
0022   0CF8           00032     movlw 0F8h
0023   0006           00033     tris GPIO
0024   0506           00034     bsf GPIO, GP0
                      00035 
                      00036 ; Programme principal
                      00037 ; La boucle infinie
0025                  00038 loop: 
0025                  00039 led_on_pressed:
0025   0666           00040     btfsc GPIO, GP3 ; test de l'entrée 1
0026   0A??           00041     goto led_on_pressed; Le bouton n'est pas appuyé
0027   0506           00042     bsf GPIO, GP0 ; le bouton est appuyé, on allume la led
MPASM 5.86                          MAIN.ASM   9-27-2023  14:56:31         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00043     ; Charge la valeur 250 (en décimal) dans WREG
0028   0C10           00044     movlw 10
0029   0031           00045     movwf temp2
002A   09??           00046     call timer_1s
002B   0526           00047     bsf GPIO, GP1
002C   0C10           00048     movlw 10
002D   0031           00049     movwf temp2
002E   09??           00050     call timer_1s
002F   0C10           00051     movlw 10
0030   0031           00052     movwf temp2
0031   09??           00053     call timer_1s
0032   0546           00054     bsf GPIO, GP2
                      00055 
0033                  00056 led_on_released:
0033   0766           00057     btfss GPIO, GP3 ; test de l'entrée 1
0034   0A??           00058     goto led_on_released ;Le bouton n'est pas relaché...
                      00059     ; Le bouton est relaché
                      00060         
0035                  00061 led_off_pressed: 
0035   0666           00062     btfsc GPIO, GP3 ; test de l'entrée 1
0036   0A??           00063     goto led_off_pressed; Le bouton n'est pas appuyé
0037   0406           00064     bcf GPIO, GP0 ; le bouton est appuyé, on eteint la led
0038   0426           00065     bcf GPIO, GP1
0039   0446           00066     bcf GPIO, GP2
                      00067     ; Charge la valeur 250 (en décimal) dans WREG
Warning[202]: Argument out of range.  Least significant bits used.
003A   0C50           00068     movlw 250
003B   0031           00069     movwf temp0
Warning[202]: Argument out of range.  Least significant bits used.
003C   0C00           00070     movlw 100
003D   0032           00071     movwf temp1
003E   09??           00072     call timer_100ms
                      00073 
                      00074 
003F                  00075 led_off_released:
003F   0766           00076     btfss GPIO, GP3 ; test de l'entrée 1
0040   0A??           00077     goto led_off_released ;Le bouton n'est pas relaché...
                      00078     ; Le bouton est relaché  
0041   0A??           00079     goto loop
                      00080 
                      00081     
0042                  00082 timer_100ms:
0042   0000           00083     nop
0043   0000           00084     nop
0044   0000           00085     nop
                      00086     ; Décrémente la variable temp1
0045   02F2           00087     decfsz temp1, 1
                      00088     ; Si temp1 n'est pas encore à zéro, retourne à la boucle
0046   0A??           00089     goto timer_100ms
                      00090     ; Décrémente la variable temp0
0047   02F1           00091     decfsz temp0, 1
                      00092     ; Si temp0 n'est pas encore à zéro, retourne à la boucle
0048   0A??           00093     goto timer_100ms
MPASM 5.86                          MAIN.ASM   9-27-2023  14:56:31         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0049   0800           00094     retlw 0  
                      00095     
004A                  00096 timer_1s:
Warning[202]: Argument out of range.  Least significant bits used.
004A   0C50           00097     movlw 250
004B   0031           00098     movwf temp0
Warning[202]: Argument out of range.  Least significant bits used.
004C   0C00           00099     movlw 100
004D   0032           00100     movwf temp1
004E   09??           00101     call timer_100ms
                      00102     ; Décrémente la variable temp2
004F   02F1           00103     decfsz temp2, 1
0050   0A??           00104     goto timer_1s
0051   0800           00105     retlw 0
                      00106 
Warning[205]: Found directive in column 1. (END)
0FEB                  00107 END
MPASM 5.86                          MAIN.ASM   9-27-2023  14:56:31         PAGE  4


SYMBOL TABLE
  LABEL                             VALUE 

C                                 00000000
CAL0                              00000001
CAL1                              00000002
CAL2                              00000003
CAL3                              00000004
CAL4                              00000005
CAL5                              00000006
CAL6                              00000007
DC                                00000001
F                                 00000001
FOSC4                             00000000
FSR                               00000004
GP0                               00000000
GP1                               00000001
GP2                               00000002
GP3                               00000003
GPIO                              00000006
GPWUF                             00000007
INDF                              00000000
NOT_GPPU                          00000006
NOT_GPWU                          00000007
NOT_PD                            00000003
NOT_TO                            00000004
OSCCAL                            00000005
PCL                               00000002
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
STATUS                            00000003
T0CS                              00000005
T0SE                              00000004
TMR0                              00000001
TRISIO0                           00000000
TRISIO1                           00000001
TRISIO2                           00000002
TRISIO3                           00000003
W                                 00000000
Z                                 00000002
_CONFIG                           00000FFF
_CP_OFF                           00000FFF
_CP_ON                            00000FF7
_IDLOC0                           00000100
_IDLOC1                           00000101
_IDLOC2                           00000102
_IDLOC3                           00000103
_IntRC_OSC                        00000FFF
_MCLRE_OFF                        00000FEF
_MCLRE_ON                         00000FFF
_OSC_IntRC                        00000FFF
_WDTE_OFF                         00000FFB
_WDTE_ON                          00000FFF
_WDT_OFF                          00000FFB
MPASM 5.86                          MAIN.ASM   9-27-2023  14:56:31         PAGE  5


SYMBOL TABLE
  LABEL                             VALUE 

_WDT_ON                           00000FFF
__10F200                          00000001
led_off_pressed                   00000035
led_off_released                  0000003F
led_on_pressed                    00000025
led_on_released                   00000033
loop                              00000025
main                              00000020
temp0                             00000011
temp1                             00000012
temp2                             00000011
temp3                             00000012
timer_100ms                       00000042
timer_1s                          0000004A
var1                              00000010

Errors   :     0
Warnings :     6 reported,     0 suppressed
Messages :     0 reported,     0 suppressed

